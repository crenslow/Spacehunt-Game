<html>
<!--
    AdminSettings.html - Team GG
    User Story SH-5: Placing Celestial Artifacts
    As a game administrator, I want to be able to select where various 
    Celestial Artifacts should be placed before the game is played
    TODO:
    -ensure page can only be accessed by administrator
    -save settings to json and load coordinates in MapDefinition.html
    -some way of handling/sanitizing data (coords must be int values within 1-128)

    *** Move into core html ***
-->
    <head>

        <script src="js/Mode.js"></script>
        <script>var ctrecipe = GameMode( null );</script>
        <script src="js/AddToMap.js"></script> 
        <script src="js/HitObject.js"></script>
       <!-- 
       <script src="js/Main.js"></script> -->
        <script src="js/MapSetup.js"></script>
        <script src="js/Objects.js"></script>
        <script src="js/OldSpice.js"></script>
        <!-- <script src="js/Operations.js"></script> -->
        <script src="js/Sensors.js"></script>
        <script src="js/BadMax.js"></script>
        <script src="js/Save.js"></script>
        <script src="js/WinGame.js"></script>
        <script src="js/Freighter.js"></script>     
        <script src="js/Admin.js"></script> 
        <script>
        </script>
    </head>

    <body>
        <h1>Admin Settings</h1>
    
        <form>
            <p> Save Name:<input type=text id=saveFileName value="Default"></p>
            <p><input type=button value="load" onclick="readDataFromFile(getElementById('saveFileName').value)"></p>
            <p> Artifact: 
            <select id="selectArtifact" onchange="loadArtifactValuesOnChange()">
            </select>
            x : <input type=number id=artifactX min=MIN_X max=MAX_X onchange="changeArtifactProperties()">
            y : <input type=number id=artifactY min=MIN_Y max=MAX_y onchange="changeArtifactProperties()">
            </p>
            <p><input type=button Value="Save Map Changes" onclick="writeDataToFile(getElementById('saveFileName').value)"></p>
        </form>
    </body>
    <script>
    function gazePopulate (obj, objX, objY, toSave) {}
        function initGame() {
            if (window.gameData != undefined) {
                window.gameMap = new GameMap( window.gameData.mapSize );
                window.oldSpice = new Ship(
                    window.gameData.shipX,
                    window.gameData.shipY,
                    window.gameData.shipEnergy,
                    window.gameData.shipSupplies,
                    window.gameData.shipCredit,
                    window.gameData.shipEngineLv,
                    window.gameData.shipDamaged,
                    window.gameData.shipNormalPlay
                );
            } else { // By default
                window.gameMap = new GameMap( 128 );
                window.oldSpice = new Ship( 0, 0, 1000, 100, 1000, 1, false, true );
            }

            // setup wormhole
            //window.boundary = new WormHole();

            // add objects to the map 
            PopulateMap( window.gameMap );

            // save last move to the console
            ctrecipe.tickObjects.push(function() {Collision(window.oldSpice.x, window.oldSpice.y);});
            ctrecipe.tick();
        }
initGame();
saveShip();
setSelectArtifactOptions();
loadArtifactValuesOnChange();
    </script>         
</html>
